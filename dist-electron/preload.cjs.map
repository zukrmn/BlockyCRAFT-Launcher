{
  "version": 3,
  "sources": ["../electron/preload.ts"],
  "sourcesContent": ["import { contextBridge, ipcRenderer } from 'electron';\n\n// Expose a safe API to the renderer process\ncontextBridge.exposeInMainWorld('electronAPI', {\n  // Platform info\n  platform: process.platform,\n\n  // IPC communication methods (for future Minecraft launcher features)\n  send: (channel: string, data: unknown) => {\n    const validChannels = ['launch-game', 'check-java', 'download-assets'];\n    if (validChannels.includes(channel)) {\n      ipcRenderer.send(channel, data);\n    }\n  },\n\n  receive: (channel: string, callback: (...args: unknown[]) => void) => {\n    const validChannels = ['launch-game', 'launch-progress', 'java-status', 'download-progress'];\n    if (validChannels.includes(channel)) {\n      ipcRenderer.on(channel, (_event, ...args) => callback(...args));\n    }\n  },\n\n  // Invoke methods (request-response pattern)\n  invoke: async (channel: string, data: unknown): Promise<unknown> => {\n    const validChannels = ['get-minecraft-path', 'get-java-version', 'launch-game', 'check-custom-instance', 'check-update-status', 'perform-update', 'open-external'];\n    if (validChannels.includes(channel)) {\n      return ipcRenderer.invoke(channel, data);\n    }\n    return null;\n  },\n});\n\n// Also expose the simpler 'api' for the new frontend (friend's branch)\ncontextBridge.exposeInMainWorld('api', {\n  launchGame: (options: { username: string }) => ipcRenderer.send('launch-game', options),\n  onProgress: (callback: (data: { type: string; current: number; total: number }) => void) => {\n    ipcRenderer.on('download-progress', (_event, data) => callback(data));\n  },\n  onLog: (callback: (data: string) => void) => {\n    ipcRenderer.on('log-message', (_event, data) => callback(data));\n  },\n  onError: (callback: (err: string) => void) => {\n    ipcRenderer.on('launch-error', (_event, err) => callback(err));\n  },\n  openExternal: (url: string) => ipcRenderer.invoke('open-external', url)\n});\n\n// Type declarations for the exposed API\ndeclare global {\n  interface Window {\n    electronAPI: {\n      platform: string;\n      send: (channel: string, data: unknown) => void;\n      receive: (channel: string, callback: (...args: unknown[]) => void) => void;\n      invoke: (channel: string, data: unknown) => Promise<unknown>;\n    };\n    api: {\n      launchGame: (options: { username: string }) => void;\n      onProgress: (callback: (data: { type: string; current: number; total: number }) => void) => void;\n      onLog: (callback: (data: string) => void) => void;\n      onError: (callback: (err: string) => void) => void;\n      openExternal: (url: string) => Promise<void>;\n    };\n  }\n}\n"],
  "mappings": ";AAAA,sBAA2C;AAG3C,8BAAc,kBAAkB,eAAe;AAAA;AAAA,EAE7C,UAAU,QAAQ;AAAA;AAAA,EAGlB,MAAM,CAAC,SAAiB,SAAkB;AACxC,UAAM,gBAAgB,CAAC,eAAe,cAAc,iBAAiB;AACrE,QAAI,cAAc,SAAS,OAAO,GAAG;AACnC,kCAAY,KAAK,SAAS,IAAI;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS,CAAC,SAAiB,aAA2C;AACpE,UAAM,gBAAgB,CAAC,eAAe,mBAAmB,eAAe,mBAAmB;AAC3F,QAAI,cAAc,SAAS,OAAO,GAAG;AACnC,kCAAY,GAAG,SAAS,CAAC,WAAW,SAAS,SAAS,GAAG,IAAI,CAAC;AAAA,IAChE;AAAA,EACF;AAAA;AAAA,EAGA,QAAQ,OAAO,SAAiB,SAAoC;AAClE,UAAM,gBAAgB,CAAC,sBAAsB,oBAAoB,eAAe,yBAAyB,uBAAuB,kBAAkB,eAAe;AACjK,QAAI,cAAc,SAAS,OAAO,GAAG;AACnC,aAAO,4BAAY,OAAO,SAAS,IAAI;AAAA,IACzC;AACA,WAAO;AAAA,EACT;AACF,CAAC;AAGD,8BAAc,kBAAkB,OAAO;AAAA,EACrC,YAAY,CAAC,YAAkC,4BAAY,KAAK,eAAe,OAAO;AAAA,EACtF,YAAY,CAAC,aAA+E;AAC1F,gCAAY,GAAG,qBAAqB,CAAC,QAAQ,SAAS,SAAS,IAAI,CAAC;AAAA,EACtE;AAAA,EACA,OAAO,CAAC,aAAqC;AAC3C,gCAAY,GAAG,eAAe,CAAC,QAAQ,SAAS,SAAS,IAAI,CAAC;AAAA,EAChE;AAAA,EACA,SAAS,CAAC,aAAoC;AAC5C,gCAAY,GAAG,gBAAgB,CAAC,QAAQ,QAAQ,SAAS,GAAG,CAAC;AAAA,EAC/D;AAAA,EACA,cAAc,CAAC,QAAgB,4BAAY,OAAO,iBAAiB,GAAG;AACxE,CAAC;",
  "names": []
}
