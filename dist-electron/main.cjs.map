{
  "version": 3,
  "sources": ["../electron/main.ts"],
  "sourcesContent": ["import { app, BrowserWindow } from 'electron';\nimport path from 'node:path';\n\n// Add command line switches before app is ready\n// These are needed for Docker/Container/Wayland environments\napp.commandLine.appendSwitch('no-sandbox');\napp.commandLine.appendSwitch('disable-gpu');\napp.commandLine.appendSwitch('disable-software-rasterizer');\napp.commandLine.appendSwitch('disable-dev-shm-usage');\n\nconsole.log('=== BlockyCRAFT Launcher Starting ===');\nconsole.log('Electron version:', process.versions.electron);\nconsole.log('Node version:', process.versions.node);\nconsole.log('DISPLAY:', process.env['DISPLAY']);\nconsole.log('VITE_DEV_SERVER_URL:', process.env['VITE_DEV_SERVER_URL']);\n\nlet mainWindow: BrowserWindow | null = null;\n\nconst VITE_DEV_SERVER_URL = process.env['VITE_DEV_SERVER_URL'];\n\nfunction createWindow(): void {\n    console.log('Creating main window...');\n\n    mainWindow = new BrowserWindow({\n        width: 900,\n        height: 600,\n        minWidth: 800,\n        minHeight: 500,\n        frame: true,\n        resizable: true,\n        webPreferences: {\n            nodeIntegration: false,\n            contextIsolation: true,\n            preload: path.join(__dirname, 'preload.cjs'),\n            sandbox: false,\n        },\n        backgroundColor: '#0f0f0f',\n        show: true,\n    });\n\n    console.log('Window created, loading content...');\n\n    if (VITE_DEV_SERVER_URL) {\n        console.log('Loading from Vite dev server:', VITE_DEV_SERVER_URL);\n        mainWindow.loadURL(VITE_DEV_SERVER_URL);\n        mainWindow.webContents.openDevTools();\n    } else {\n        const filePath = path.join(__dirname, '../dist/index.html');\n        console.log('Loading from file:', filePath);\n        mainWindow.loadFile(filePath);\n    }\n\n    mainWindow.webContents.on('did-finish-load', () => {\n        console.log('Content loaded successfully!');\n    });\n\n    mainWindow.webContents.on('did-fail-load', (event, errorCode, errorDescription) => {\n        console.error('Failed to load:', errorCode, errorDescription);\n    });\n\n    mainWindow.on('closed', () => {\n        console.log('Window closed');\n        mainWindow = null;\n    });\n}\n\nconsole.log('Waiting for app ready...');\n\napp.whenReady().then(() => {\n    console.log('App is ready!');\n    createWindow();\n}).catch((err) => {\n    console.error('App ready failed:', err);\n});\n\napp.on('window-all-closed', () => {\n    console.log('All windows closed');\n    if (process.platform !== 'darwin') {\n        app.quit();\n    }\n});\n\napp.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0) {\n        createWindow();\n    }\n});\n\n// Keep process running\nconsole.log('Main process initialized');\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA,sBAAmC;AACnC,uBAAiB;AAIjB,oBAAI,YAAY,aAAa,YAAY;AACzC,oBAAI,YAAY,aAAa,aAAa;AAC1C,oBAAI,YAAY,aAAa,6BAA6B;AAC1D,oBAAI,YAAY,aAAa,uBAAuB;AAEpD,QAAQ,IAAI,uCAAuC;AACnD,QAAQ,IAAI,qBAAqB,QAAQ,SAAS,QAAQ;AAC1D,QAAQ,IAAI,iBAAiB,QAAQ,SAAS,IAAI;AAClD,QAAQ,IAAI,YAAY,QAAQ,IAAI,SAAS,CAAC;AAC9C,QAAQ,IAAI,wBAAwB,QAAQ,IAAI,qBAAqB,CAAC;AAEtE,IAAI,aAAmC;AAEvC,IAAM,sBAAsB,QAAQ,IAAI,qBAAqB;AAE7D,SAAS,eAAqB;AAC1B,UAAQ,IAAI,yBAAyB;AAErC,eAAa,IAAI,8BAAc;AAAA,IAC3B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,IACX,OAAO;AAAA,IACP,WAAW;AAAA,IACX,gBAAgB;AAAA,MACZ,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,MAClB,SAAS,iBAAAA,QAAK,KAAK,WAAW,aAAa;AAAA,MAC3C,SAAS;AAAA,IACb;AAAA,IACA,iBAAiB;AAAA,IACjB,MAAM;AAAA,EACV,CAAC;AAED,UAAQ,IAAI,oCAAoC;AAEhD,MAAI,qBAAqB;AACrB,YAAQ,IAAI,iCAAiC,mBAAmB;AAChE,eAAW,QAAQ,mBAAmB;AACtC,eAAW,YAAY,aAAa;AAAA,EACxC,OAAO;AACH,UAAM,WAAW,iBAAAA,QAAK,KAAK,WAAW,oBAAoB;AAC1D,YAAQ,IAAI,sBAAsB,QAAQ;AAC1C,eAAW,SAAS,QAAQ;AAAA,EAChC;AAEA,aAAW,YAAY,GAAG,mBAAmB,MAAM;AAC/C,YAAQ,IAAI,8BAA8B;AAAA,EAC9C,CAAC;AAED,aAAW,YAAY,GAAG,iBAAiB,CAAC,OAAO,WAAW,qBAAqB;AAC/E,YAAQ,MAAM,mBAAmB,WAAW,gBAAgB;AAAA,EAChE,CAAC;AAED,aAAW,GAAG,UAAU,MAAM;AAC1B,YAAQ,IAAI,eAAe;AAC3B,iBAAa;AAAA,EACjB,CAAC;AACL;AAEA,QAAQ,IAAI,0BAA0B;AAEtC,oBAAI,UAAU,EAAE,KAAK,MAAM;AACvB,UAAQ,IAAI,eAAe;AAC3B,eAAa;AACjB,CAAC,EAAE,MAAM,CAAC,QAAQ;AACd,UAAQ,MAAM,qBAAqB,GAAG;AAC1C,CAAC;AAED,oBAAI,GAAG,qBAAqB,MAAM;AAC9B,UAAQ,IAAI,oBAAoB;AAChC,MAAI,QAAQ,aAAa,UAAU;AAC/B,wBAAI,KAAK;AAAA,EACb;AACJ,CAAC;AAED,oBAAI,GAAG,YAAY,MAAM;AACrB,MAAI,8BAAc,cAAc,EAAE,WAAW,GAAG;AAC5C,iBAAa;AAAA,EACjB;AACJ,CAAC;AAGD,QAAQ,IAAI,0BAA0B;",
  "names": ["path"]
}
